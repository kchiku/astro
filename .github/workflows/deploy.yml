name: ğŸš€ Deploy website on push
on:
  push:
    branches: [main]
jobs:
  web-deploy:
    name: ğŸ‰ Deploy
    runs-on: ubuntu-latest
    steps:
      - name: ğŸšš Get latest code
        uses: actions/checkout@v3
      - name: Use Node.js 20
        uses: actions/setup-node@v3
        with:
          node-version: "20"
      - name: Build Project # buildã—ãªã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãªã‚‰å‰Šé™¤ã—ã¦OK
        run: |
          npm install
          npm run build
        - name: ğŸ“‚ Sync files
          uses: SamKirkland/FTP-Deploy-Action@v4.3.4
          with:
            server: ${{ secrets.FTP_SERVER }}
            username: ${{ secrets.FTP_USERNAME }}
            password: ${{ secrets.FTP_PASSWORD }}
            server-dir: ${{ secrets.FTP_SERVER_DIR }}
            local-dir: ./dist/ # ã”è‡ªèº«ã®ç’°å¢ƒã«åˆã‚ã›ã¦ãã ã•ã„